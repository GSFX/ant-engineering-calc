<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <link rel="icon" href="/favicon.ico" type="image/x-icon" />

  <title>Calculator ANT</title>
  <link rel="stylesheet" href="index.css">
  <link rel="stylesheet" href="./nav.css">

</head>
<body>
  <div id="nav-bar">
  <input type="checkbox" id="nav-toggle">
  <div id="nav-header">
    <label for="nav-toggle">
      <span id="nav-toggle-burger"></span>
    </label>
    <span id="nav-title">
      ANT-Tech
    </span>
    <hr>
  </div>

  <div id="nav-content">
    <div class="nav-button"><i class="fas fa-calculator"></i><span>–†–µ–∞—Å—Ñ–∞–ª—å—Ç–ê–ù–¢</span></div>
    <div class="nav-button"><i class="fas fa-calculator"></i><span>–•–æ–ª–æ–¥–Ω—ã–π —Ä–µ—Å–∞–π–∫–ª–∏–Ω–≥ ¬´ANT¬ª</span></div>
    <div class="nav-button"><i class="fas fa-calculator"></i><span><a href="./stoneroads.html">–ö–∞–º–µ–Ω–Ω—ã–µ –¥–æ—Ä–æ–≥–∏ ¬´ANT¬ª</a></span></div>
    <hr>
    <div class="nav-button"><i class="fas fa-chart-line"></i><span>–ü–æ–¥–±–æ—Ä —Å–æ—Å—Ç–∞–≤–æ–≤</span></div>
    <div id="nav-content-highlight"></div>
  </div>

  <input type="checkbox" id="nav-footer-toggle">
  <div id="nav-footer">
    <div id="nav-footer-heading">
      <div id="nav-footer-avatar">
        <img src="./assets/logo.jpeg" />
      </div>
      <div id="nav-footer-titlebox">
        <span id="nav-footer-title">–ê–Ω—Ç–æ–Ω</span>
        <span id="nav-footer-subtitle">–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å</span>
      </div>
      <label for="nav-footer-toggle"><i class="fas fa-caret-up"></i></label>
    </div>
    <div id="nav-footer-content">
            –ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Ä–∞—Å—á–µ—Ç–æ–≤, —è–≤–ª—è—é—Ç—Å—è —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–º–∏, –∞ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏!<br><br>–ë—É–¥—å—Ç–µ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã! –ù–µ–≤–µ—Ä–Ω—ã–π –≤–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –æ—à–∏–±–∫–∞–º –≤ —Ä–∞—Å—á–µ—Ç–∞—Ö.
    </div>
  </div>
</div>

  <div class="container">
    <div class="lang-select">
      <select id="lang" onchange="changeLanguage()">
        <option value="ru">üá∑üá∫ –†—É—Å—Å–∫–∏–π</option>
        <option value="en">üá¨üáß English</option>
        <option value="es">üá™üá∏ Espa√±ol</option>
        <option value="az">üá¶üáø Az…ôrbaycan</option>
        <option value="sr">üá∑üá∏ Srpski</option>
      </select>
    </div>

    <h1 id="title"></h1>

    <label id="massLabel"></label>
    <input type="number" id="mAG" placeholder="">
    <select id="mAGUnit">
      <option value="kg">–∫–≥</option>
      <option value="t">—Ç–æ–Ω–Ω—ã</option>
      <option value="lb">—Ñ—É–Ω—Ç—ã</option>
    </select>
    <div class="unit-label" id="massUnit"></div>

    <label id="rateLabel"></label>
    <input type="text" id="A" placeholder="">

    <label id="naturalMoisture"></label>
    <input type="text" id="w0" placeholder="">

    <label id="targetMoisture"></label>
    <input type="text" id="w1" placeholder="">

    <label id="waterLabel"><span class="optional" id="optional"></span></label>
    <input type="number" id="VH2O" placeholder="">
    <select id="VH2OUnit">
      <option value="l">–ª–∏—Ç—Ä—ã</option>
      <option value="m3">–∫—É–±—ã (–º¬≥)</option>
      <option value="gal">–≥–∞–ª–ª–æ–Ω—ã</option>
    </select>
    <div class="unit-label2" id="tinu">–ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è –æ–±—ä—ë–º–∞ –≤–æ–¥—ã</div>

    <button id="calculateBtn" onclick="calculate()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
    <div class="results" id="results"></div>
  </div>

  <script>
    const translations = {
      ru: {
        title: "–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –†–µ–∞—Å—Ñ–∞–ª—å—Ç–ê–ù–¢",
        massLabel: "–ú–∞—Å—Å–∞ –ê–ì",
        placeholdermAG: "—É–∫–∞–∂–∏—Ç–µ –º–∞—Å—Å—É",
        massUnit: "–ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è –º–∞—Å—Å—ã",
        rateLabel: "–ù–æ—Ä–º–∞ —Ä–∞—Å—Ö–æ–¥–∞ –†–µ–∞—Å—Ñ–∞–ª—å—Ç–ê–ù–¢ (A), %",
        placeholderA: "–Ω–∞–ø—Ä–∏–º–µ—Ä, 0,01%",
        naturalMoisture: "–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –≤–ª–∞–∂–Ω–æ—Å—Ç—å –ê–ì (w0), %",
        placeholderW0: "–Ω–∞–ø—Ä–∏–º–µ—Ä, 1,5%",
        targetMoisture: "–¢—Ä–µ–±—É–µ–º–∞—è –≤–ª–∞–∂–Ω–æ—Å—Ç—å –ê–ì (w1), %",
        placeholderW1: "–Ω–∞–ø—Ä–∏–º–µ—Ä, 7%",
        waterLabel: "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–¥—ã –≤ –µ–º–∫–æ—Å—Ç–∏ (VH2O)",
        placeholderVH2O:"–≤–≤–µ–¥–∏—Ç–µ –æ–±—ä—ë–º –≤–æ–¥—ã, –µ—Å–ª–∏ –∏–∑–≤–µ—Å—Ç–Ω–æ",
        litrov: '–ª–∏—Ç—Ä—ã',
        unitWaterTinu: "–ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è –æ–±—ä—ë–º–∞ –≤–æ–¥—ã",
        optional: "(–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)",
        calculateBtn: "–†–∞—Å—Å—á–∏—Ç–∞—Ç—å",
        results: {
          header: "–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—á—ë—Ç–∞:",
          mass: "–ú–∞—Å—Å–∞ –ê–ì",
          QANT: "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –†–µ–∞—Å—Ñ–∞–ª—å—Ç–ê–ù–¢ (QANT)",
          QH2O: "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–¥—ã (QH2O)",
          Kra: "–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Ä–∞—Å—Ç–≤–æ—Ä–µ–Ω–∏—è (K—Ä–∞—Å—Ç–≤)",
          VANT: "–ù–æ—Ä–º–∞ –¥–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –µ–º–∫–æ—Å—Ç—å (VANT)",
          missingVH2O: "–í–≤–µ–¥–∏—Ç–µ –æ–±—ä—ë–º –µ–º–∫–æ—Å—Ç–∏ –≤–æ–¥—ã, —á—Ç–æ–±—ã —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –Ω–æ—Ä–º—É –¥–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è.",
        },
        footer: "–ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Ä–∞—Å—á–µ—Ç–æ–≤, —è–≤–ª—è—é—Ç—Å—è —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–º–∏, –∞ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏!<br><br>–ë—É–¥—å—Ç–µ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã! –ù–µ–≤–µ—Ä–Ω—ã–π –≤–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –æ—à–∏–±–∫–∞–º –≤ —Ä–∞—Å—á–µ—Ç–∞—Ö."
      },
      en: {
        title: "ReasphaltANT Calculator",
        massLabel: "Mass of AG",
        placeholdermAG: "indicate the mass",
        litrov: 'liters',
        cubes: 'cubic meters',
        gallons: 'gallons',
        kg: 'kg',
        tons: 'tons',
        pounds: 'pounds',
        massUnit: "Mass unit",
        rateLabel: "ReasphaltANT Consumption Rate (A), %",
        placeholderA: "for example, 0,01%",
        naturalMoisture: "Natural moisture of AG (w0), %",
        placeholderW0: "for example, 1,5%",
        targetMoisture: "Target moisture of AG (w1), %",
        placeholderW1: "for example, 7%",
        waterLabel: "Water volume in tank (VH2O)",
        placeholderVH2O:"enter the volume of water if known",
        unitWaterTinu: "Water volume unit",
        optional: "(optional)",
        calculateBtn: "Calculate",
        results: {
          header: "Calculation Results:",
          mass: "Mass of AG",
          QANT: "Amount of ReasphaltANT (QANT)",
          QH2O: "Amount of water (QH2O)",
          Kra: "Dilution coefficient (Kra)",
          VANT: "Dosage per tank (VANT)",
          missingVH2O: "Enter water volume to calculate dosage."
        },
        footer: "The results of the calculations are recommendations and not mandatory for use.<br><br>Be careful! Incorrect input will lead to calculation errors."

      },
      es: {
        title: "Calculadora de ReasphaltANT",
        massLabel: "Masa de AG",
        placeholdermAG: "indicar la masa",
        litrov: 'Test3',
        massUnit: "Unidad de masa",
        rateLabel: "Tasa de consumo de ReasphaltANT (A), %",
        placeholderA: "por ejemplo, 0,01%",
        naturalMoisture: "Humedad natural de AG (w0), %",
        placeholderW0: "por ejemplo, 1,5%",
        targetMoisture: "Humedad requerida de AG (w1), %",
        placeholderW1: "por ejemplo, 7%",
        waterLabel: "Volumen de agua en el tanque (VH2O)",
        placeholderVH2O:"Ingrese el volumen de agua si lo conoce",
        unitWaterTinu: "Unidad de volumen de agua",
        optional: "(opcional)",
        calculateBtn: "Calcular",
        results: {
          header: "Resultados del c√°lculo:",
          mass: "Masa de AG",
          QANT: "Cantidad de ReasphaltANT (QANT)",
          QH2O: "Cantidad de agua (QH2O)",
          Kra: "Coeficiente de diluci√≥n (Kra)",
          VANT: "Dosis por tanque (VANT)",
          missingVH2O: "Introduce volumen de agua para calcular la dosis."
        }
      },
      az: {
        title: "ReasfaltANT Kalkulyatoru",
        massLabel: "AG k√ºtl…ôsi",
        placeholdermAG: "k√ºtl…ôsini g√∂st…ôrin",
        litrov: 'test4',
        massUnit: "K√ºtl…ô vahidi",
        rateLabel: "ReasfaltANT S…ôrf Normasƒ± (A), %",
        placeholderA: "m…ôs…ôl…ôn, 0,01%",
        naturalMoisture: "AG-nin t…ôbii n…ômliliyi (w0), %",
        placeholderW0: "m…ôs…ôl…ôn, 1,5%",
        targetMoisture: "T…ôl…ôb olunan n…ômlilik (w1), %",
        placeholderW1: "m…ôs…ôl…ôn, 7%",
        waterLabel: "Su h…ôcmi (VH2O)",
        placeholderVH2O:"m…ôlumdursa suyun h…ôcmini daxil edin",
        unitWaterTinu: "Su h…ôcmi vahidi",
        optional: "(isteƒüe baƒülƒ±)",
        calculateBtn: "Hesabla",
        results: {
          header: "Hesablanma n…ôtic…ôl…ôri:",
          mass: "AG k√ºtl…ôsi",
          QANT: "ReasfaltANT miqdarƒ± (QANT)",
          QH2O: "Su miqdarƒ± (QH2O)",
          Kra: "H…ôll etm…ô …ômsalƒ± (Kra)",
          VANT: "Bir √ß…ôn √º√ß√ºn dozaj (VANT)",
          missingVH2O: "Dozajƒ± hesablamaq √º√ß√ºn su h…ôcmini daxil edin."
        }
      },
      sr: {
        title: "ReasfaltANT Kalkulator",
        massLabel: "Masa AG-a",
        placeholdermAG: "oznaƒçite masu",
        litrov: 'litara',
        massUnit: "Jedinica mase",
        rateLabel: "Norma potro≈°nje ReasfaltANT-a (A), %",
        placeholderA: "na primer, 0,01%",
        naturalMoisture: "Prirodna vla≈ænost AG-a (w0), %",
        placeholderW0: "na primer, 1,5%",
        targetMoisture: "Zahtevana vla≈ænost AG-a (w1), %",
        placeholderW1: "na primer, 7%",
        waterLabel: "Zapremina vode u rezervoaru (VH2O)",
        placeholderVH2O:"unesite zapreminu vode ako je poznata",
        unitWaterTinu: "Jedinica zapremine vode",
        optional: "(opciono)",
        calculateBtn: "Izraƒçunaj",
        results: {
          header: "Rezultati izraƒçuna:",
          mass: "Masa AG-a",
          QANT: "Koliƒçina ReasfaltANT-a (QANT)",
          QH2O: "Koliƒçina vode (QH2O)",
          Kra: "Koeficijent rastvaranja (Kra)",
          VANT: "Doza po rezervoaru (VANT)",
          missingVH2O: "Unesite koliƒçinu vode za izraƒçun doze."
        }
      }
    };

    function changeLanguage() {
      const lang = document.getElementById("lang").value;
      localStorage.setItem('selectedLang', lang);
      const t = translations[lang];
      document.getElementById("title").innerText = t.title;
      document.getElementById("massLabel").innerText = t.massLabel;
      document.getElementById('mAG').placeholder = t.placeholdermAG;
      document.getElementById("massUnit").innerText = t.massUnit;
      document.getElementById("rateLabel").innerText = t.rateLabel;
      document.getElementById("A").placeholder = t.placeholderA;
      document.getElementById("naturalMoisture").innerText = t.naturalMoisture;
      document.getElementById("w0").placeholder = t.placeholderW0;
      document.getElementById("targetMoisture").innerText = t.targetMoisture;
      document.getElementById("w1").placeholder = t.placeholderW1;
      document.getElementById("waterLabel").innerText = t.waterLabel + " ";
      document.getElementById("VH2O").placeholder = t.placeholderVH2O;
      document.getElementById("optional").innerText = t.optional;
      document.getElementById("tinu").innerText = t.unitWaterTinu;
      document.getElementById("calculateBtn").innerText = t.calculateBtn;
      document.querySelector("l").textContent = t.litrov;
      document.querySelector("#VH2OUnit option[value='m3']").textContent = t.cubes;
      document.querySelector("#VH2OUnit option[value='gal']").textContent = t.gallons;
      document.querySelector("#mAGUnit option[value='kg']").textContent = t.kg;
      document.querySelector("#mAGUnit option[value='t']").textContent = t.tons;
      document.querySelector("#mAGUnit option[value='lb']").textContent = t.pounds;
    }

    function parsePercent(value) {
      if (!value) return 0;
      return parseFloat(value.replace('%', '').replace(',', '.'));
    }

    function calculate() {
      const lang = document.getElementById("lang").value;
      const t = translations[lang].results;

      let mAG = parseFloat(document.getElementById("mAG").value);
      const unit = document.getElementById("mAGUnit").value;
      const A = parsePercent(document.getElementById("A").value);
      const w0 = parsePercent(document.getElementById("w0").value);
      const w1 = parsePercent(document.getElementById("w1").value);
      let VH2O = document.getElementById("VH2O").value;
      const VH2OUnit = document.getElementById("VH2OUnit").value;

      if (unit === "t") mAG *= 1000;
      else if (unit === "lb") mAG *= 0.453592;
      if (VH2OUnit === "m3") VH2O = parseFloat(VH2O) * 1000;
      else if (VH2OUnit === "gal") VH2O = parseFloat(VH2O) * 3.78541;
      else VH2O = parseFloat(VH2O);




      if (isNaN(mAG) || isNaN(A) || isNaN(w0) || isNaN(w1)) {
        document.getElementById("results").innerHTML = "<strong>‚ö†Ô∏è Please fill all required fields.</strong>";
        return;
      }

      const QANT = mAG * A * 0.01;
      const QH2O = mAG * (w1 - w0) * 0.01;
      const Kra = QH2O / QANT;

      let html = `<strong>${t.header}</strong><br><br>`;
      html += `${t.mass}: <strong>${mAG.toFixed(2)}</strong> –∫–≥<br>`;
      html += `${t.QANT}: <strong>${QANT.toFixed(2)}</strong> –ª<br>`;
      html += `${t.QH2O}: <strong>${QH2O.toFixed(2)}</strong> –ª<br>`;
      html += `${t.Kra}: <strong>${Kra.toFixed(2)}</strong><br>`;

      if (!isNaN(VH2O)) {
        const VANT = VH2O / Kra;
        html += `${t.VANT}: <strong>${VANT.toFixed(2)}</strong> –ª`;
      } else {
        html += `<em>${t.missingVH2O}</em>`;
      }

      document.getElementById("results").innerHTML = html;
    }

    window.onload = () => {
  changeLanguage();
};


    document.getElementById("lang").addEventListener("change", () => {
      const lang = document.getElementById("lang").value;
      localStorage.setItem("lang", lang);
      changeLanguage();
    });

    document.querySelectorAll('input[type="text"]').forEach(input => {
      input.addEventListener('blur', () => {
        if (!input.value.includes('%')) input.value = input.value + '%';
        if (input.value === '0%') input.value = '0,0%';
      });
    });
    console.log("–¢–µ–∫—É—â–∏–π —è–∑—ã–∫:", lang);
    console.log("–ö–Ω–æ–ø–∫–∞:", document.getElementById("calculateBtn"));
    console.log("–¢–µ–∫—Å—Ç –ø–µ—Ä–µ–≤–æ–¥–∞:", t.calculate);
  </script>


</body>
</html>
